/* ==========================================================================
   LOVE ON THE PLATE — Design System v2.0
   "Intimate Minimalism Meets Culinary Poetry"
   ========================================================================== */

/* Import Google Fonts - Sophisticated pairing */
@import url('https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,400;0,9..144,500;0,9..144,600;0,9..144,700;1,9..144,400&family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Caveat:wght@400;500;600;700&display=swap');

@import "tailwindcss";

/* Preconnect hints are in layout.tsx head */

/* ==========================================================================
   SEMANTIC TOKENS — Light Mode: "Morning Kitchen"
   ========================================================================== */
:root {
  /* Canvas Layers */
  --canvas: #FFFBF8;
  --canvas-elevated: #FFFFFF;
  --canvas-recessed: #F7F0EB;
  
  /* Typography Colors */
  --ink: #1C1512;
  --ink-secondary: #6B5B4F;
  --ink-tertiary: #A39788;
  
  /* Stroke/Border */
  --stroke: #E8DDD4;
  --stroke-emphasis: #D4C4B5;
  
  /* Brand Colors */
  --love: #D94B38;
  --love-soft: #F4E4E1;
  --love-intense: #B83A28;
  --warmth: #E8A86C;
  --warmth-soft: #FDF5ED;
  --freshness: #7BA085;
  --freshness-soft: #EDF5EF;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(28, 21, 18, 0.04);
  --shadow-md: 0 4px 12px rgba(28, 21, 18, 0.08);
  --shadow-lg: 0 12px 32px rgba(28, 21, 18, 0.12);
  --shadow-xl: 0 24px 48px rgba(28, 21, 18, 0.16);
  --shadow-glow: 0 0 24px rgba(217, 75, 56, 0.2);
  --shadow-inner: inset 0 2px 4px rgba(28, 21, 18, 0.06);
  
  /* Animation Easings */
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  
  /* Animation Durations */
  --duration-instant: 100ms;
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  --duration-slower: 700ms;
  
  /* Fluid Typography Scale */
  --text-hero: clamp(2.5rem, 5vw, 4rem);
  --text-display: clamp(1.75rem, 3vw, 2.5rem);
  --text-heading: clamp(1.25rem, 2vw, 1.5rem);
  --text-subheading: clamp(1.0625rem, 1.5vw, 1.125rem);
  --text-body: clamp(0.9375rem, 1.25vw, 1rem);
  --text-caption: clamp(0.8125rem, 1vw, 0.875rem);
  --text-micro: 0.75rem;
  
  /* Spacing Scale */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;
  
  /* Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-full: 9999px;
  
  /* Logo filter - no filter needed in light mode */
  --logo-filter: none;
  
  /* Legacy compatibility tokens */
  --background: var(--canvas);
  --foreground: var(--ink);
  --surface: var(--canvas-elevated);
  --surface-hover: var(--canvas-recessed);
  --border: var(--stroke);
  --muted: var(--ink-secondary);
  --accent: var(--love);
  --accent-hover: var(--love-intense);
}

/* ==========================================================================
   SEMANTIC TOKENS — Dark Mode: "Candlelit Dinner"
   ========================================================================== */
.dark {
  color-scheme: dark;
  
  /* Canvas Layers */
  --canvas: #0F0C0A;
  --canvas-elevated: #1A1512;
  --canvas-recessed: #0A0807;
  
  /* Typography Colors */
  --ink: #F5EEE8;
  --ink-secondary: #B5A89A;
  --ink-tertiary: #756A5E;
  
  /* Stroke/Border */
  --stroke: #2A2320;
  --stroke-emphasis: #3D3530;
  
  /* Brand Colors */
  --love: #FF7B68;
  --love-soft: #2A1F1D;
  --love-intense: #FF9484;
  --warmth: #F0B87A;
  --warmth-soft: #1F1A14;
  --freshness: #8FBC9A;
  --freshness-soft: #151D17;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 12px 32px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 24px 48px rgba(0, 0, 0, 0.5);
  --shadow-glow: 0 0 32px rgba(255, 123, 104, 0.25);
  --shadow-inner: inset 0 2px 4px rgba(0, 0, 0, 0.2);
  
  /* Logo filter - invert for dark mode visibility */
  --logo-filter: invert(1) brightness(0.95);
  
  /* Legacy compatibility */
  --background: var(--canvas);
  --foreground: var(--ink);
  --surface: var(--canvas-elevated);
  --surface-hover: var(--canvas-recessed);
  --border: var(--stroke);
  --muted: var(--ink-secondary);
  --accent: var(--love);
  --accent-hover: var(--love-intense);
}

/* ==========================================================================
   TAILWIND THEME INTEGRATION
   ========================================================================== */
@theme inline {
  /* Canvas */
  --color-canvas: var(--canvas);
  --color-canvas-elevated: var(--canvas-elevated);
  --color-canvas-recessed: var(--canvas-recessed);
  
  /* Ink */
  --color-ink: var(--ink);
  --color-ink-secondary: var(--ink-secondary);
  --color-ink-tertiary: var(--ink-tertiary);
  
  /* Stroke */
  --color-stroke: var(--stroke);
  --color-stroke-emphasis: var(--stroke-emphasis);
  
  /* Brand */
  --color-love: var(--love);
  --color-love-soft: var(--love-soft);
  --color-love-intense: var(--love-intense);
  --color-warmth: var(--warmth);
  --color-warmth-soft: var(--warmth-soft);
  --color-freshness: var(--freshness);
  --color-freshness-soft: var(--freshness-soft);
  
  /* Legacy (keep for backward compat) */
  --color-background: var(--canvas);
  --color-foreground: var(--ink);
  --color-surface: var(--canvas-elevated);
  --color-surface-hover: var(--canvas-recessed);
  --color-border: var(--stroke);
  --color-muted: var(--ink-secondary);
  --color-accent: var(--love);
  --color-accent-hover: var(--love-intense);
  
  /* Typography */
  --font-display: 'Fraunces', Georgia, serif;
  --font-body: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-accent: 'Caveat', cursive;
  
  /* Legacy font aliases */
  --font-serif: 'Fraunces', Georgia, serif;
  --font-script: 'Caveat', cursive;
  
  /* Shadows */
  --shadow-glow: var(--shadow-glow);
}

/* ==========================================================================
   BASE STYLES
   ========================================================================== */
body {
  background: var(--canvas);
  color: var(--ink);
  font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: var(--text-body);
  line-height: 1.6;
  min-height: 100vh;
  min-height: 100dvh; /* Use dynamic viewport height for mobile */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  touch-action: manipulation; /* Prevent double-tap zoom delay */
  -webkit-tap-highlight-color: rgba(217, 75, 56, 0.1); /* Subtle tap highlight */
}

/* ==========================================================================
   TYPOGRAPHY UTILITIES
   ========================================================================== */
.font-display {
  font-family: 'Fraunces', Georgia, serif;
  font-optical-sizing: auto;
}

.font-body {
  font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

.font-accent {
  font-family: 'Caveat', cursive;
}

/* Legacy aliases */
.font-serif {
  font-family: 'Fraunces', Georgia, serif;
  font-optical-sizing: auto;
}

.font-script {
  font-family: 'Caveat', cursive;
}

/* Fluid type classes */
.text-hero {
  font-size: var(--text-hero);
  line-height: 1.1;
  letter-spacing: -0.02em;
  text-wrap: balance; /* Prevent widows in headlines */
}

.text-display {
  font-size: var(--text-display);
  line-height: 1.2;
  letter-spacing: -0.01em;
  text-wrap: balance; /* Prevent widows in headlines */
}

.text-heading {
  font-size: var(--text-heading);
  line-height: 1.3;
  text-wrap: pretty; /* Smart line breaking */
}

.text-subheading {
  font-size: var(--text-subheading);
  line-height: 1.4;
}

.text-body {
  font-size: var(--text-body);
  line-height: 1.6;
}

.text-caption {
  font-size: var(--text-caption);
  line-height: 1.5;
}

.text-micro {
  font-size: var(--text-micro);
  line-height: 1.4;
  letter-spacing: 0.02em;
}

/* ==========================================================================
   ANIMATION UTILITIES
   ========================================================================== */
@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  14% { transform: scale(1.1); }
  28% { transform: scale(1); }
  42% { transform: scale(1.1); }
  56% { transform: scale(1); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 0 0 rgba(217, 75, 56, 0.4); }
  50% { box-shadow: 0 0 20px 10px rgba(217, 75, 56, 0); }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-heartbeat {
  animation: heartbeat 1s ease-in-out;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    var(--canvas-recessed) 0%,
    var(--canvas-elevated) 50%,
    var(--canvas-recessed) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

.animate-fade-in-up {
  animation: fade-in-up var(--duration-normal) var(--ease-smooth) forwards;
}

.animate-scale-in {
  animation: scale-in var(--duration-normal) var(--ease-bounce) forwards;
}

/* ==========================================================================
   THEME TRANSITIONS
   ========================================================================== */
*:not([class*="animate-"]) {
  transition-property: background-color, border-color, box-shadow;
  transition-duration: var(--duration-fast);
  transition-timing-function: var(--ease-smooth);
}

/* Disable transitions for reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ==========================================================================
   CUSTOM SCROLLBAR
   ========================================================================== */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--canvas-recessed);
}

::-webkit-scrollbar-thumb {
  background: var(--stroke-emphasis);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--ink-tertiary);
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--stroke-emphasis) var(--canvas-recessed);
}

/* ==========================================================================
   UTILITY CLASSES
   ========================================================================== */

/* Line clamp utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-4 {
  display: -webkit-box;
  -webkit-line-clamp: 4;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Glass morphism */
.glass {
  background: rgba(255, 251, 248, 0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.dark .glass {
  background: rgba(15, 12, 10, 0.8);
}

/* Focus ring utility */
.focus-ring {
  outline: none;
}

.focus-ring:focus-visible {
  box-shadow: 0 0 0 2px var(--canvas), 0 0 0 4px var(--love);
}

/* Safe area padding for mobile */
.safe-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.safe-top {
  padding-top: env(safe-area-inset-top, 0);
}

/* Hide on mobile/desktop */
@media (max-width: 767px) {
  .hide-mobile {
    display: none !important;
  }
}

@media (min-width: 768px) {
  .hide-desktop {
    display: none !important;
  }
}

/* Tabular numbers for aligned numeric data */
.tabular-nums {
  font-variant-numeric: tabular-nums;
}

/* Scroll margin for anchor links */
h1, h2, h3, h4, h5, h6,
[id] {
  scroll-margin-top: 5rem; /* Account for sticky header */
}

/* Overscroll containment for modals/sheets */
.overscroll-contain {
  overscroll-behavior: contain;
}

/* Safe area utilities for full-bleed layouts */
.safe-left {
  padding-left: env(safe-area-inset-left, 0);
}

.safe-right {
  padding-right: env(safe-area-inset-right, 0);
}

.safe-x {
  padding-left: env(safe-area-inset-left, 0);
  padding-right: env(safe-area-inset-right, 0);
}

.safe-y {
  padding-top: env(safe-area-inset-top, 0);
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.safe-all {
  padding: env(safe-area-inset-top, 0) env(safe-area-inset-right, 0) env(safe-area-inset-bottom, 0) env(safe-area-inset-left, 0);
}
